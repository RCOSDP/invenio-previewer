{# -*- coding: utf-8 -*-
#}

{%- extends config.PREVIEWER_ABSTRACT_TEMPLATE %}

<html>
  <head>
    <title>{{_('Preview')}}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {%- block head %}
    {%- for bdl in css_bundles %}
      {%- assets bdl %}
    <link href="{{ ASSET_URL }}" rel="stylesheet">
      {%- endassets %}
    {%- endfor %}
    {%- endblock %}
  </head>
  <body>
    {%- block page_body %}
	<div style="width:490px; margin:auto; position:relative; font-size: 9pt; color: #777777;">
		<canvas id="cv" style="border: 1px solid;" width="490" height="368" ></canvas>
		<div id="tip" style="display:block; color:#ffffff; padding:5px; position:absolute; left:10px; top:315px; background-color:#000000; height:32px; width:250px; border-radius:5px; border:1px solid #777777; font-family:Arial,sans-serif; opacity:0.5; pointer-events:none;"> 
			Drag mouse to rotate <br> Drag mouse with shift pressed to zoom
		</div>
	</div>



    {% endblock %}
    {%- block javascript %}
    {%- for bdl in js_bundles %}
      {%- assets bdl %}
    <script src="{{ ASSET_URL }}"></script>
      {%- endassets %}
    {%- endfor %}
    <script type="text/javascript">
$(document).ready(function(){
	var canvas = document.getElementById('cv');
	var viewer = new JSC3D.Viewer(canvas);
	viewer.setParameter('SceneUrl', "{{ file.uri }}");
	viewer.setParameter('InitRotationX', 0);
	viewer.setParameter('InitRotationY', 0);
	viewer.setParameter('InitRotationZ', 0);
	viewer.setParameter('ModelColor', '#CAA618');
	viewer.setParameter('BackgroundColor1', '#E5D7BA');
	viewer.setParameter('BackgroundColor2', '#383840');
	viewer.setParameter('RenderMode', 'textureflat');
	viewer.setParameter('MipMapping', 'on');
	viewer.setParameter('Renderer', 'webgl');
	viewer.init();
	viewer.update();

});
</script>
    {%- endblock %}
  </body>
</html>


